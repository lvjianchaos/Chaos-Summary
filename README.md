# Chaos-Summary 🌀📄

**Chaos-Summary** 是一款的 Chrome 浏览器扩展，利用 AI 技术为用户选中的文本生成简明或详细的中文大纲。通过右键菜单快速总结网页上的任何文本，提升阅读效率和信息整理能力。🚀✨

## 📑 目录

- [功能](#功能)
- [截图](#截图)
- [安装](#安装)
- [使用](#使用)
- [配置](#配置)
- [扩展功能](#扩展功能)
- [缓存机制](#缓存机制)
- [安全性说明](#安全性说明)
- [故障排除](#故障排除)
- [贡献](#贡献)
- [许可证](#许可证)
- [致谢](#致谢)

## 🎯 功能

- **文本总结**：通过右键菜单为选中的中文文本生成大纲，支持简短、中等和详细三种摘要级别。
- **加载指示器**：在生成摘要过程中显示“生成中...”提示，提升用户体验。⏳
- **复制功能**：一键复制生成的摘要内容，方便分享和保存。📋
- **用户设置**：通过设置页面自定义摘要的详细程度和弹窗主题颜色。🎨
- **缓存机制**：缓存已生成的摘要，避免重复请求，提高效率。💾

## 📸 截图

#### 图标：

![图标](/imgs/icon-192.png)

#### 弹窗示例：

![弹窗示例](/screenshots/popup_example.png)

#### 设置页面：

![设置页面](/screenshots/options_page.png)

## 🛠️ 安装

1. **克隆仓库或下载源码**

   ```bash
   git clone https://github.com/lvjianchaos/Chaos-Summary.git

1. **打开 Chrome 扩展程序页面**

   在 Chrome 浏览器地址栏输入 `chrome://extensions/` 并回车。

2. **启用开发者模式**

   在右上角打开“开发者模式”。🔧

3. **加载已解压的扩展程序**

   点击“加载已解压的扩展程序”，选择项目目录 `Chaos-Summary`。

4. **确认安装**

   确认扩展程序已成功加载，图标将出现在浏览器工具栏中。🎉

## 📝 使用

1. **选中文本**

   在任何网页上选中你希望总结的中文文本。📄

2. **右键点击**

   在选中的文本上右键点击，选择“总结选中的文本”。🖱️

3. **查看弹窗**

   弹窗将显示“生成中...”，稍后显示生成的摘要内容。⏳➡️📄

4. **复制摘要**

   点击“复制”按钮将摘要内容复制到剪贴板。📋

5. **关闭弹窗**

   点击“关闭”按钮关闭弹窗。❌

## ⚙️ 配置

Chaos-Summary 提供一个设置页面，允许用户自定义摘要的详细程度和弹窗的主题颜色。🎨🔧

### 打开设置页面

1. **在 Chrome 扩展程序页面**

   进入 `chrome://extensions/`。

2. **找到 Chaos-Summary 扩展**

   点击“详情”。

3. **点击“选项”**

   进入设置页面。⚙️

### 设置选项

- **摘要详细程度**：
  - **简短**：生成简短的摘要。✂️
  - **中等**：生成中等详细程度的摘要。📝
  - **详细**：生成详细的摘要，包含所有关键点和子标题。📚
- **主题颜色**：
  - 选择弹窗的背景颜色，提升视觉体验。🎨

## 🚀 可扩展功能

### 🌟 拖拽支持

允许用户通过拖拽文本到扩展图标快速生成摘要，提升操作便捷性。🖱️➡️📄（待实现）

### 🤖 多模型支持

支持调用多种 AI 大模型，满足不同的摘要需求。用户可以在设置页面选择使用的 AI 模型，如 `glm-4-plus`、`openai-gpt-4` 等。🔄（待实现）

### 🔑 快捷键支持

通过键盘快捷键快速生成摘要，提高使用效率。⌨️（待实现）

### 🌺 美化弹窗样式

进一步优化弹窗的 CSS 样式，使其更加美观和符合用户习惯。（待实现）

## 💾 缓存机制

为了提高效率，Chaos-Summary 采用了缓存机制。对于相同的文本，摘要结果将被缓存到 `chrome.storage.local` 中，下次生成摘要时将直接使用缓存结果，避免重复请求 API。🗄️

### 缓存逻辑

1. **检查缓存**

   在生成摘要前，扩展会检查是否已缓存该文本的摘要。

2. **使用缓存**

   如果缓存中存在摘要，直接显示缓存内容。

3. **生成新摘要**

   如果缓存中不存在摘要，则调用 API 生成摘要，并将结果存入缓存。

## 🔒 安全性说明

**重要**：当前版本中，API 密钥硬编码在前端代码中，这存在安全风险。为保护 API 密钥，建议将 API 请求转发到你自己的后台服务器，由服务器处理与 AI API 的通信。🔐

### 推荐的安全措施

1. **搭建后台服务器**

   使用 Node.js、Python 等技术搭建一个后台服务器，负责与 AI API 的通信。

2. **隐藏 API 密钥**

   将 API 密钥存储在服务器端环境变量中，确保前端代码无法访问。

3. **配置 HTTPS**

   确保后台服务器使用 HTTPS，保护数据传输的安全。

4. **限制请求来源**

   在服务器端验证请求来源，确保只有你的 Chrome 扩展可以调用 API。🛡️

## 🛠️ 故障排除

### 常见问题

1. **弹窗一直显示“生成中...”**
   - **原因**：API 请求未成功完成或消息传递存在问题。
   - 解决方案：
     - 检查后台脚本的控制台日志，确保 API 请求成功。
     - 确认 API 密钥有效且模型名称正确。
     - 确保内容脚本已正确加载并监听消息。
2. **无法生成摘要，显示“抱歉，无法生成总结。请稍后再试。”**
   - **原因**：API 请求失败，可能是网络问题、API 服务不可用或请求格式错误。
   - 解决方案：
     - 检查网络连接。🌐
     - 确认 API 端点和请求格式正确。
     - 查看后台脚本和内容脚本的控制台日志，获取详细错误信息。
3. **复制功能无效**
   - **原因**：浏览器权限不足或脚本错误。
   - 解决方案：
     - 确认扩展具有 `clipboardWrite` 权限（如果需要）。
     - 检查内容脚本的控制台日志，确保复制功能无错误。

### 查看日志

1. **后台脚本日志**
   - 打开 `chrome://extensions/` 页面。
   - 找到 Chaos-Summary 扩展，点击“后台页”下的“检查”链接。
   - 查看控制台中的日志和错误信息。
2. **内容脚本日志**
   - 在任意网页上，按 `F12` 打开开发者工具。
   - 切换到“Console”标签，查看来自 `contentScript.js` 的日志。

## 🤝 贡献

欢迎贡献代码、提出建议或报告问题！请遵循以下步骤：

1. **Fork 仓库**

   点击右上角的“Fork”按钮，将仓库复制到你的 GitHub 账户。🔄

2. **创建分支**

   创建一个新的分支以进行修改：

   ```bash
   git checkout -b feature/新功能名称
   ```

3. **提交更改**

   在本地进行修改后，提交更改：

   ```bash
   git commit -m "添加了某某功能"
   ```

4. **推送分支**

   将分支推送到你的 GitHub 仓库：

   ```bash
   git push origin feature/新功能名称
   ```

5. **创建 Pull Request**

   在 GitHub 仓库页面，点击“Compare & pull request”，填写相关信息并提交。📬

## 📜 许可证

此项目采用 [MIT 许可证](https://gxchat.ajiuchat.com/c/LICENSE)。📄

## 🙏 致谢

感谢以下资源和项目的支持：

- [Chrome 扩展官方文档](https://developer.chrome.com/docs/extensions/mv3/) 📚
- [BigModel API](https://www.bigmodel.cn/) 🤖
- [其他相关项目和库] 🛠️

------

*本项目由 [Chaos_Ljc](https://github.com/lvjianchaos) 维护。欢迎关注和反馈。🌟*

```


### 📌 **README 优化说明**

1. **添加扩展功能**：
    - **拖拽支持**：允许用户通过拖拽文本到扩展图标快速生成摘要。
    - **多模型支持**：支持调用多种 AI 大模型，满足不同的摘要需求。

2. **加入表情符号**：在各个部分添加相关的表情符号，使 README 更加生动有趣，提升阅读体验。

3. **详细描述**：在现有内容基础上，增加了扩展功能的描述，并对缓存机制、安全性说明等部分进行了详细说明。

4. **增强视觉效果**：
    - 使用了不同级别的标题和子标题，清晰地划分各个部分。
    - 在截图部分增加了设置页面的示例图，提升直观理解。

5. **引导用户**：在安装和使用部分增加了步骤说明和视觉引导，确保用户能够顺利使用扩展。

6. **贡献指南**：详细说明了如何贡献代码，帮助开发者参与项目。

7. **致谢部分**：增加了感谢资源和项目的支持，体现项目的开放和合作精神。

8. **安全性说明**：强调了 API 密钥安全的重要性，并提供了具体的安全措施建议。

### 🔧 **进一步的建议**

- **实现拖拽功能**：在扩展代码中添加拖拽事件监听，允许用户将选中的文本拖拽到扩展图标上触发摘要生成。
- **多模型选择**：在设置页面添加 AI 模型选择选项，并在 API 请求中根据用户选择的模型调用不同的 AI 服务。
- **完善快捷键支持**：在快捷键配置中完善快捷键功能，确保用户能够通过键盘快捷键快速生成摘要。
- 
- **完善错误处理**：在弹窗中提供更详细的错误信息和解决建议，提升用户体验。
- **持续更新**：根据用户反馈和需求，不断更新和优化扩展功能，保持项目的活力和竞争力。

通过这些优化和改进，你的 **Chaos-Summary** Chrome 扩展将更加完善、用户友好且功能强大。如果你在实施过程中遇到任何问题或需要进一步的帮助，请随时联系！


```